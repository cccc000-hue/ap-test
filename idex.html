<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A&P æº«æ›¸ç¥å™¨</title>
    <style>
        :root {
            --primary: #2563eb;
            --bg: #f1f5f9;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --success: #22c55e;
            --danger: #ef4444;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* é ‚éƒ¨å°èˆª */
        header {
            background: var(--card-bg);
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        h1 {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stats {
            font-size: 0.85rem;
            color: var(--text-light);
            background: #f8fafc;
            padding: 4px 12px;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
        }

        /* å¡ç‰‡å€åŸŸ */
        main {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            perspective: 1000px;
        }

        .card-container {
            width: 100%;
            max-width: 400px;
            height: 60vh; /* å¡ç‰‡é«˜åº¦ */
            position: relative;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .card-container:active {
            transform: scale(0.98);
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            border-radius: 24px;
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            text-align: center;
            background: var(--card-bg);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card-back {
            background: #1e293b;
            color: white;
            transform: rotateY(180deg);
        }

        .label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
            font-weight: 700;
            opacity: 0.6;
        }

        .content {
            font-size: 1.35rem;
            line-height: 1.6;
            font-weight: 600;
            overflow-y: auto;
            max-height: 80%;
        }

        .hint {
            position: absolute;
            bottom: 20px;
            font-size: 0.8rem;
            opacity: 0.5;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* åº•éƒ¨æŒ‰éˆ• */
        footer {
            padding: 20px;
            background: var(--bg);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
            width: 100%;
        }

        button {
            border: none;
            padding: 16px;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .btn-unknown {
            background: #fee2e2;
            color: var(--danger);
        }
        
        .btn-unknown:active {
            background: #fecaca;
        }

        .btn-known {
            background: #dcfce7;
            color: var(--success);
        }

        .btn-known:active {
            background: #bbf7d0;
        }

        /* åˆ†é¡æ¨™ç±¤ */
        .category-tag {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 0.7rem;
            padding: 4px 8px;
            background: #eff6ff;
            color: var(--primary);
            border-radius: 6px;
            font-weight: 600;
        }

    </style>
</head>
<body>

    <header>
        <h1>A&P Quiz (L1-6)</h1>
        <div class="stats" id="progress">0 / 0</div>
    </header>

    <main>
        <div class="card-container" onclick="flipCard()">
            <div class="card" id="card">
                <!-- æ­£é¢ -->
                <div class="card-face card-front">
                    <span class="category-tag">è§£å‰–ç”Ÿç†å­¸</span>
                    <div class="label">é¡Œç›®</div>
                    <div class="content" id="question-text">è¼‰å…¥ä¸­...</div>
                    <div class="hint">ğŸ‘† é»æ“ŠæŸ¥çœ‹ç­”æ¡ˆ</div>
                </div>
                <!-- èƒŒé¢ -->
                <div class="card-face card-back">
                    <div class="label">ç­”æ¡ˆ</div>
                    <div class="content" id="answer-text">...</div>
                    <div class="hint">ğŸ‘† é»æ“Šè¿”å›é¡Œç›®</div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <button class="btn-unknown" onclick="handleNext(false)">
            <span>âŒ é‚„ä¸ç†Ÿ</span>
        </button>
        <button class="btn-known" onclick="handleNext(true)">
            <span>âœ… è¨˜ä½äº†</span>
        </button>
    </footer>

    <script>
        // --- è³‡æ–™åº«å€åŸŸ (æ ¹æ“šä½ çš„é™„ä»¶æ•´ç†) ---
        const database = [
            { q: "ç¼ºå¤±æ°´åˆ†å°äººé«”æœ‰ä»€éº¼å½±éŸ¿?", a: "å¼•è‡´ä¾¿ç§˜" },
            { q: "ä»¥ä¸‹é‚£å€‹æ•¸å€¼æ˜¯ä»£è¡¨é¹¼æ€§?", a: "10" },
            { q: "èƒ¸è…”å’Œè…¹è…”ä¹‹é–“ç”±é‚£å€‹å™¨å®˜åˆ†é–‹?", a: "æ©«éš”è†œ" },
            { q: "é›»è§£è³ªçš„å¹³è¡¡å°äººé«”æœ‰ä»€éº¼æ„ç¾©?", a: "é›»è§£è³ªçš„å¹³è¡¡å°ç¶­æŒç´°èƒå’Œå™¨å®˜çš„æ­£å¸¸ç”Ÿç†éå¸¸é‡è¦" },
            { q: "ä»¥ä¸‹é‚£å€‹ä¸æ˜¯ç”Ÿå‘½ç‰¹å¾µ?", a: "ç¡çœ " },
            { q: "ä»¥ä¸‹é‚£å€‹ä¸æ˜¯åŸºæœ¬çš„ç´°èƒçµæ§‹?", a: "ç´°èƒè‰²ç´ " },
            { q: "ä»¥ä¸‹é‚£å€‹æ˜¯ç´°èƒè†œçš„ç‰¹æ€§?", a: "é¸æ“‡æ€§åŠé€è†œ" },
            { q: "ç´°èƒæ ¸ä¸­æœ‰ä»€éº¼å°äººé«”é‡è¦çš„æ±è¥¿?", a: "DNAè„«æ°§æ ¸é†£æ ¸é…¸" },
            { q: "äººé¡ç´°èƒä¸­æœ‰å¤šå°‘å°æŸ“è‰²é«”?", a: "23å°" },
            { q: "è»Ÿéª¨å­˜åœ¨æ–¼äººé«”çš„é‚£å¹¾å€‹ä½ç½®?", a: "ä»¥ä¸Šçš†æ˜¯ (æ°£é“ã€å¤–è€³ã€æ¤é–“ç›†é–“)" },
            { q: "èƒå¤–åŸºè³ª (Extracellular matrix) å°äººé«”æœ‰ä»€éº¼ä½œç”¨?", a: "åŠ å¼·çµç· çµ„ç¹”æ‰¿å—é‡é‡ã€å¼µåŠ›ã€ä¾µå®³ã€ç£¨æç­‰èƒ½åŠ›" },
            { q: "é–‹æ”¾æ€§æˆ–å¤§é¢ç©å‚·å£æœƒç”¢ç”Ÿä»€éº¼ç¾è±¡?", a: "è‚‰èŠ½åŒ– (Granulation)" },
            { q: "ä»¥ä¸‹é‚£å…©ç¨®äººé«”çµ„ç¹”å…·æœ‰æ›´å¤§çš„ä¿®å¾©èƒ½åŠ›?", a: "ä¸Šçš®çµ„ç¹”å’Œçµç· çµ„ç¹”" },
            { q: "ä»¥ä¸‹é‚£ä¸€å€‹ç³»çµ±è² è²¬æ‰€æœ‰çš„èº«é«”é‹å‹•?", a: "è‚Œè‚‰ç³»çµ±" },
            { q: "ä»¥ä¸‹é‚£ä¸€å€‹ç³»çµ±è² è²¬èº«é«”çš„æºé€šå’Œèª¿æ§ç³»çµ±?", a: "ç¥ç¶“ç³»çµ±" },
            { q: "ä»¥ä¸‹ä¸€å€‹ç³»çµ±è² è²¬è³¦äºˆå½¢é«”åŠç§»å‹•çš„å‹•åŠ›?", a: "éª¨éª¼ç³»çµ±" },
            { q: "ä»¥ä¸‹é‚£å€‹æ˜¯æ»‘æ¶²é—œç¯€çš„çµæ§‹?", a: "é—œç¯€å¯å‹•ï¼Œå…·æœ‰é—œç¯€è…”å’Œæ»‘æ¶²å›Šï¼Œé—œç¯€å›ŠåŒ…åœæ•´å€‹é—œç¯€" },
            { q: "ç­‹è†œèˆ‡è‚Œè‚‰æœ‰ä»€éº¼é—œä¿‚?", a: "ç­‹è†œåœç¹ä¸¦æ”¯æŒè‚Œè‚‰ç³»çµ±ï¼Œäº¦æä¾›ç¥ç¶“ã€æ·‹å·´ç®¡å’Œè¡€ç®¡çš„é€²å‡ºé€šé“" },
            { q: "ä»¥ä¸‹é‚£ä¸€å€‹æ˜¯éª¨æŠ˜å¾Œä¹‹éª¨è³ªé‡å¡‘éç¨‹?", a: "é¦–å…ˆç”±å·¨å™¬ç´°èƒ (Macrophage) ç§»é™¤å£æ­»çš„ç¡¬éª¨çµ„ç¹”ï¼Œç„¶å¾Œå¤§é‡è£½é€ éª¨ç´°èƒ" },
            { q: "ä»¥ä¸‹é‚£å€‹ä¸æ˜¯è‚Œè‚‰ç³»çµ±çš„åŠŸèƒ½?", a: "å†·å»èº«é«”" },
            { q: "è‡ªä¸»ç¥ç¶“ç³»çµ±åŒ…å«é‚£å…©çµ„ç¥ç¶“ç³»çµ±?", a: "å‰¯äº¤æ„Ÿç¥ç¶“åŠäº¤æ„Ÿç¥ç¶“" },
            { q: "å‰¯äº¤æ„Ÿç¥ç¶“å—æ¿€å‹µå¾Œæœƒæœ‰ä»€éº¼ç”Ÿç†åæ‡‰?", a: "è¡€ç®¡æ”¶ç¸® (æ³¨æ„ï¼šé€šå¸¸å‰¯äº¤æ„Ÿæ˜¯æ”¾é¬†ï¼Œä½†æ ¹æ“šQuizç­”æ¡ˆé¸æ“‡æ­¤é …ï¼Œæˆ–æŒ‡ç‰¹å®šéƒ¨ä½)" },
            { q: "äº¤æ„Ÿç¥ç¶“å—æ¿€å‹µå¾Œæœƒæœ‰ä»€éº¼ç”Ÿç†åæ‡‰?", a: "å¿ƒè·³åŠ å¿«" },
            { q: "ç¥ç¶“å…ƒä¹‹é–“çš„é€£æ¥éœ€å€šè³´ä»€éº¼ç‰©è³ª?", a: "ç¥ç¶“éè³ª" },
            { q: "äººé«”å…±æœ‰å¤šå°‘å°è…¦ç¥ç¶“?", a: "12å°" },
            { q: "ä»¥ä¸‹é‚£ä¸€å€‹ä¸å±¬æ–¼è…¦ç¥ç¶“?", a: "åéª¨ç¥ç¶“ (Sciatic nerve)" },
            { q: "åœ¨äººé«”ç¥ç¶“ç³»çµ±ä¸­æœ‰å¤šå°‘å°è„Šç¥ç¶“?", a: "31å°" },
            { q: "ä»¥ä¸‹é‚£å€‹çµ„ç¹”å°è…¦éƒ¨æœ‰ä¿è­·ä½œç”¨?", a: "è„Šé«“æ¶²" },
            { q: "ä»¥ä¸‹é‚£å€‹ä¸æ˜¯ç¥ç¶“éè³ª?", a: "CSF è…¦è„Šé«“æ¶²" },
            { q: "å¾ªç’°ç³»çµ±æ˜¯ç”±é‚£å…©å€‹ç³»çµ±çµ„æˆ?", a: "è¡€æ¶²ç³»çµ±åŠæ·‹å·´ç³»çµ±" },
            { q: "ä»¥ä¸‹é‚£äº›å™¨å®˜å’Œçµ„ç¹”è² è²¬è¡€æ¶²å¾ªç’°ç³»çµ±?", a: "å¿ƒè‡Ÿ, è¡€ç®¡, è¡€æ¶²" },
            { q: "ä»¥ä¸‹é‚£äº›å™¨å®˜å’Œçµ„ç¹”è² è²¬æ·‹å·´å¾ªç’°ç³»çµ±?", a: "æ·‹å·´çµ, æ·‹å·´ç®¡, æ·‹å·´æ¶²" },
            { q: "è‚ºå¾ªç’°ç³»çµ±æ˜¯é‹é€ç¼ºæ°§è¡€åŠå«æ°§è¡€ä¾†å›é‚£å…©å€‹å™¨å®˜?", a: "è‚ºå’Œå¿ƒ" },
            { q: "è‚é–€å¾ªç’°ç³»çµ±æ˜¯å¾é‚£å€‹å™¨å®˜é‹é€è¡€æ¶²å»é‚£ä¸€å€‹å™¨å®˜?", a: "ç”±æ¶ˆåŒ–é“å»è‚è‡Ÿ" },
            { q: "å¾®è¡€ç®¡æœ‰ä»€éº¼ç‰¹æ€§?", a: "åœ¨è¡€ç®¡å’Œçµ„ç¹”ä¹‹é–“é‹é€é¤Šåˆ†ã€æ°´åˆ†ã€æ°£é«”å’Œé›»è§£è³ª" },
            { q: "æ”¶ç¸®å£“å’Œèˆ’å¼µå£“åæ˜ ä»€éº¼æƒ…æ³?", a: "èˆ’å¼µå£“è¡¨ç¤ºå¿ƒè‡Ÿæ”¾é¬†æ™‚è¡€ç®¡å…§çš„å£“åŠ›" },
            { q: "ä»¥ä¸‹é‚£ä¸€å€‹ä¸æ˜¯è¡€æ¶²å¾ªç’°ç³»çµ±çš„è·¯å¾‘?", a: "å¾®å¾ªç’°" },
            { q: "ä»¥ä¸‹é‚£äº›èº«é«”ä½ç½®ä¸æœƒæ‰¾åˆ°æ·‹å·´çµ?", a: "èƒŒéƒ¨åŠè‡€éƒ¨" },
            { q: "é‚£ä¸€ç¨®è¡€çƒä¸æœƒå­˜åœ¨æ–¼æ·‹å·´æ¶²ä¸­?", a: "ç´…è¡€çƒ" },
            { q: "æ·‹å·´çµæœ‰ä»€éº¼åŠŸèƒ½?", a: "ä»¥ä¸Šçš†æ˜¯ (éæ¿¾æœ‰å®³ç‰©è³ªã€åŸ·è¡Œå…ç–«ç³»çµ±é˜²è¡›ã€æ‘§æ¯€ç—…åŸé«”)" }
        ];

        // --- ç¨‹å¼é‚è¼¯ ---
        let currentCardIndex = 0;
        let studyQueue = []; // å¾…è¤‡ç¿’éšŠåˆ—
        let isFlipped = false;

        const cardElement = document.getElementById('card');
        const questionText = document.getElementById('question-text');
        const answerText = document.getElementById('answer-text');
        const progressText = document.getElementById('progress');

        // åˆå§‹åŒ–ï¼šæ‰“äº‚é¡Œç›®é †åº
        function init() {
            // å‰µå»ºä¸€å€‹ç´¢å¼•æ•¸çµ„ [0, 1, 2, ... length-1]
            studyQueue = Array.from({length: database.length}, (_, i) => i);
            shuffleArray(studyQueue);
            loadCard();
        }

        // æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // è¼‰å…¥ç•¶å‰å¡ç‰‡
        function loadCard() {
            if (studyQueue.length === 0) {
                // å¦‚æœå…¨éƒ¨æº«å®Œï¼Œé‡æ–°é–‹å§‹
                alert("æ­å–œï¼æ‰€æœ‰é¡Œç›®å·²æº«ç¿’ä¸€è¼ªã€‚å°‡é‡æ–°æ´—ç‰Œé–‹å§‹ã€‚");
                init();
                return;
            }

            const dbIndex = studyQueue[0];
            const data = database[dbIndex];
            
            // é‡ç½®å¡ç‰‡ç‹€æ…‹
            isFlipped = false;
            cardElement.classList.remove('flipped');
            
            // å»¶é²ä¸€é»é»æ›´æ–°æ–‡å­—ï¼Œè®“ç¿»è½‰å‹•ç•«çœ‹èµ·ä¾†æ›´è‡ªç„¶ï¼ˆå¦‚æœæ˜¯é€£çºŒç¿»é ï¼‰
            setTimeout(() => {
                questionText.textContent = data.q;
                answerText.textContent = data.a;
                progressText.textContent = `å‰©é¤˜é¡Œç›®: ${studyQueue.length}`;
            }, 200);
        }

        // ç¿»è½‰å¡ç‰‡
        function flipCard() {
            isFlipped = !isFlipped;
            if (isFlipped) {
                cardElement.classList.add('flipped');
            } else {
                cardElement.classList.remove('flipped');
            }
        }

        // è™•ç†æŒ‰éˆ•é»æ“Š
        function handleNext(known) {
            event.stopPropagation(); // é˜²æ­¢è§¸ç™¼ç¿»å¡

            const currentQuestionIndex = studyQueue[0];
            
            // ç§»é™¤ç•¶å‰é¡Œç›®
            studyQueue.shift();

            if (!known) {
                // å¦‚æœä¸ç†Ÿï¼ŒæŠŠé€™é¡Œé‡æ–°æ”¾å›éšŠåˆ—çš„éš¨æ©Ÿä½ç½®ï¼ˆæˆ–è€…æœ«å°¾ï¼‰
                // é€™è£¡æˆ‘å€‘æŠŠå®ƒæ”¾åˆ°éšŠåˆ—çš„ä¸€åŠä½ç½®ä¹‹å¾Œï¼Œä¿è­‰éä¸€æœƒå…’æœƒå†å‡ºç¾
                const insertIndex = Math.floor(Math.random() * studyQueue.length);
                studyQueue.splice(insertIndex, 0, currentQuestionIndex);
            }

            loadCard();
        }

        // å•Ÿå‹•
        init();

    </script>
</body>
</html>
